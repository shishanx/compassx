<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Home</title>
<meta name = "viewport" content = "width=device-width, initial-scale=1, maximum-scale=1"/>
<link href="https://fonts.googleapis.com/css?family=Cute+Font|Audiowide&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<style type = "text/css">
	body{
		background-image: url(picture/back/compass_mark_filter.png);
		/*background-repeat: no-repeat;*/
		background-attachment: fixed;
		background-position: center;
		background-size: 100%, 100%;
		overflow: hidden;
		-webkit-user-select: none;
		-moz-user-select: none;
		unselectable: on;
	}
	.loading{
		padding-top: 10%;
		width: 100%;
		height: 100vh;
		background-color: white;
		text-align: center;
	}
	.spinner-border{
		width: 10%;
		height: auto;
	}
	.introvideo{
		text-align: center;
	}
	.introvideo iframe{
		width: 900px;
		border-radius: 30px;
		display: none;
	}
	#welcome{
		opacity: 1;
		font-family: "Audiowide", "Microsoft YaHei", "Microsoft JhengHei", "fantacy";
		text-shadow: 0.2em 0.2em 0.3em white;
		font-size: 100px;
		font-weight: bold;
		color: black;
		text-align: center;
		margin-top: 13%;
	}
	#welcome img{
		width: 70%;
	}
	nav{
		display: flex;
		align-items: center;
		padding-bottom: 0.2%;
	}
	#icon{
		width: 70%;
		animation: grow 0.65s linear infinite;
	}
	#iconclick{
		visibility: hidden;
		display: inline-block;
	}
	#icon:hover{
		cursor: pointer;
	}
	.title{
		width: 90%;
		margin-top: -2000px;
	}
	.title div{
		display: inline-block;
		/*background: linear-gradient(45deg, #ccc 25%, #fff 0, #fff 50%, #ccc 0, #ccc 75%, #fff 0);
		background-position: center;
		background-size: 40px 40px;*/
		margin-right: 5%;
		font-size: 75px;
		font-family: "Cute Font", "Microsoft YaHei", "Microsoft JhengHei", "fantacy";
		font-weight: bold;
	}
	.title div:hover{
		color: red;
		cursor: pointer;
	}
	#role{
		text-align: center;
	}
	#cards{
		text-align: center;
	}
	@keyframes leftappear{
	    0%{
	        margin-left: -200%;
	        opacity: 0;
	    }
	    50%{
	        margin-left: 0%;
	        background-color: rgba(0, 0, 0, 1);
	        opacity: 1;
	    }
	    100%{
	    	margin-left: 400%;
	    	opacity: 1;
	    }
	}
	@keyframes topappear{
	    0%{
	        margin-top: -100%;
	        opacity: 0;
	    }
	    50%{
	        margin-top: 0%;
	        background-color: rgba(0, 0, 0, 1);
	        opacity: 1;
	    }
	    100%{
	    	margin-top: 700%;
	    	opacity: 1;
	    }
	}
	@keyframes rightappear{
	    0%{
	        margin-left: 200%;
	        opacity: 1;
	    }
	    50%{
	        margin-left: 0%;
	        background-color: rgba(0, 0, 0, 1);
	        opacity: 1;
	    }
	    100%{
	    	margin-left: -1000%;
	    	opacity: 1;
	    }
	}
	@keyframes bigger{
	    0%{
	        opacity: 0;
	    }
	    30%{
	    	opacity: 1;
	    }
	    100%{
	    	opacity: 1;
	    }
	}
	@keyframes grow {
		0%{
			transform: scale(0.1);
			opacity: 0.5;
		}
		50%{
			transform: scale(0.5);
			opacity: 1;
		}
		100%{
	  		transform: scale(1);
	  		opacity: 0;
		}
	}
	@media screen and (max-width:550px){
		.loading{
			padding-top: 40%;
		}
		.spinner-border{
			width: 30%;
			height: auto;
		}
		.title{
			margin-left: -10%;
		}
		.title div{
			font-size: 45px;
			height: 0px;
			padding-top: 0%;
			margin-right: 10%;
		}
		#welcome{
			font-size: 45px;
		}
		#welcome img{
			width: 80%;
		}
		#icon{
			width: 50%;
		}
		.introvideo{
			margin-top: 50%;
		}
		.introvideo iframe{
			width: 100%;
			border-radius: 10px;
		}
	}
</style>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
</head>
<body onload = "show();">
	<div class = "loading">
		<div style = "font-size: 50px;">Loading...</div>
		<div style = "width: 100%;"><img class = "spinner-border text-light" src = "compass mark.png"></div>
	</div>
	<nav style = "margin-bottom: 10px;">
		<div class = "iconbox" style = "display: inline-block;">
			<img id = "icon" src = "compass mark.png" onclick = "icon();" alt="">
			<div id = "iconclick">&larr;click</div>
		</div>
		<div class = "title">
			<div onclick = "changeTo('role');" id = "role">HERO</div>
			<div onclick = "changeTo('cards');" id = "cards">CARDS</div>
		</div>
	</nav>
	<div class = "introvideo">
		<iframe src="https://www.youtube.com/embed/MrCWk_ihfiQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
		<div id = "welcome" >Welcome To #COMPASS</div>
	</div>
</body>
<script type = "text/javascript">
	if(navigator.userAgent.match("MSIE")){
		alert("Change explorer for better view.");
		window.opener=null;
		window.open('','_self');
		window.close();
	}
	var h = role.style.backgroundSize;
	role.style.height = h + "px";
	videoW = $("iframe").width();
	$("iframe").css("height", videoW*56/100);
	var gif1 = new Image();
	var gif2 = new Image();
	var gif3 = new Image();
	var bigicon = new Image();
	gif1.src = "picture/character/didi.gif";
	gif2.src = "picture/character/rabbit.gif";
	gif3.src = "picture/character/green.gif";
	bigicon.src = "bigicon.png";
	function changeTo(page){
		if(page == "index"){
			window.location.reload();
		}
		else{
			//document.location = "http://127.0.0.1/" + page + ".html";
			//document.location = "http://localhost:8080/CompassInfo/" + page + ".html";
			document.location = "https://shishanx.github.io/compassx/" + page + ".html";
		}
	}
	var clickcount = 0;
	function show(){
		$(".loading").css("display", "none");
		var wel = document.getElementById("welcome");
		var video = document.getElementsByTagName("iframe")[0];
		wel.style.opacity = 0;
		wel.style.transition = "opacity 0.5s ease-in 1s";
		setTimeout(function(){
			wel.style.marginTop = 0;
			wel.innerHTML = "";
			wel.append(gif1);
			wel.style.animationName = "leftappear";
			wel.style.animationDuration = "5.5s";
			wel.style.animationTimingFunction = "ease";
		}, 2000);
		setTimeout(function(){
			wel.innerHTML = "";
			wel.append(gif2);
			wel.style.animationName = "topappear";
			wel.style.animationDuration = "5.5s";
			wel.style.animationTimingFunction = "ease";
		}, 5200);
		setTimeout(function(){
			wel.innerHTML = "";
			wel.append(gif3);
			wel.style.animationName = "rightappear";
			wel.style.animationDuration = "5.5s";
			wel.style.animationTimingFunction = "ease";
		}, 8300);
		setTimeout(function(){
			if(window.screen.width > 550){
				wel.innerHTML = "";
				bigicon.style.width = "30%";
				wel.append(bigicon);
			}
			else{
				wel.innerHTML = "";
				wel.append(bigicon);
				$("#welcome").css("margin-top", "-20%");
			}
			wel.style.animationName = "bigger";
			wel.style.animationDuration = "5.5s";
			wel.style.animationTimingFunction = "linear";
		}, 12200);
		setTimeout(function(){
			video.style.display = "inline";
			wel.style.display = "none";
			if(clickcount == 0){
				iconclick.style.visibility = "visible";
			}
		}, 15400);
	}
	function icon(){
		clickcount++;
		var title = $(".title");
		if(clickcount > 0){
			$("#iconclick").css("visibility", "hidden");
		}
		if(clickcount % 2 != 0){
			$("#icon").css("animation", "initial");
			title.css("margin-top", "0px");
			title.css("transition", "margin-top 0.8s ease");
		}
		else{
			$("#icon").css("animation", "grow 0.65s linear infinite");
			title.css("margin-top", "-1000px");
			title.css("transition", "margin-top 1s ease");
		}
	}
</script>
</html>