<!DOCTYPE html>
<html>
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-156420462-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-156420462-2');
</script>

<meta charset="utf-8">
<title>Character</title>
<meta name = "viewport" content = "width=device-width, initial-scale=1, maximum-scale=1"/>
<link href="https://fonts.googleapis.com/css?family=Play|Exo|Cute+Font|Audiowide&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<style type = "text/css">
	body>div{
		background-image:url(picture/back/character_filter.png);
		background-attachment:fixed;
		background-position:center;
		background-size:100%, 100%;
		-webkit-user-select: none;
		-moz-user-select: none;
		unselectable: on;
	}
	body::-webkit-scrollbar{
		display: none;
	}
	nav{
		display: flex;
	}
	.title{
		width: 90%;
		margin-top: -20%;
		margin-bottom: -4%;
		visibility: hidden;
	}
	.title div{
		display: inline-block;
		/*background: linear-gradient(45deg, #ccc 25%, #fff 0, #fff 50%, #ccc 0, #ccc 75%, #fff 0);
		background-position: center;
		background-size: 40px 40px;*/
		margin-right: 5%;
		font-size: 75px;
		font-family: "Cute Font", "Microsoft YaHei", "Microsoft JhengHei", "fantacy";
		font-weight: bold;
	}
	.title span:hover{
		color: blue;
		cursor: pointer;
	}
	#icon{
		width: 70%;
		animation: grow 0.65s linear infinite;
	}
	#iconclick{
		visibility: hidden;
		display: inline-block;
	}
	#icon:hover{
		cursor: pointer;
	}
	.content{
		display: flex;
	}
	#category{
		display: flex;
		flex-wrap: wrap;
		justify-content: center;
		background: rgba(255, 255, 255, 0.5);
	}
	#category img{
		margin-bottom: 45%;
		margin-top: 15%;
		display: block;
	}
	#category img:hover{
		cursor: pointer;
	}
	#roleALL{
		display: flex;
		flex-wrap: wrap;
		justify-content: center;
		align-items: center;
		background: rgba(255, 255, 255, 0.5);
		position: absolute;
		right: 0px;
	}
	.changepic img:hover{
		cursor: pointer;
	}
	.changepic img:first-child{
		position: absolute;
		width: 140px;
		height: 140px;
	}
	.changepic img:last-child{/*icon*/
		position: absolue;
		height: 140px;
	}
	.changepic img:first-child:hover{
		opacity: 0;
		transition-property: opacity;
		transition-duration: 0.3s; 
		transition-timing-function: ease-in;
	}
	#roleDETAIL{
		width: 100%;
		height: 80vh;
		display: none;
		position: absolute;
	}
	#roleintro{
		position: relative;
	}
	.loading{
		padding-top: 10%;
		width: 100%;
		background-color: rgba(0,0,0,0);
		text-align: center;
	}
	.spinmark{
		animation: turn 0.65s linear infinite;
	}
	#HERONAME{
		font-size: 38px;
		font-family: 'Microsoft YaHei';
		font-weight: bold;
		margin-bottom: 1%;
	}
	.FIGURE{
		font-size: 23px;
		font-family: 'Microsoft YaHei';
		white-space:nowrap;
	}
	/*add*/
	#img1{
		width: 100%;
		height: 70vh;
		position: absolute;
		justify-content: center;
		visibility: hidden;
		opacity: 1;
		display: flex;
		cursor: pointer;
	}
	#figurebox{
		width: 50%;
		padding: 3.5%;
		background: white;
	}
	.progressbar{
		display: inline-flex;
		width: 90%;
		font-family: "Play", "Microsoft YaHei", "Microsoft JhengHei", "fantacy";
		color: white;
		background-color: #555555;
		border: 3px solid #777777;
	}
	.progressinner{
		width: 0;
		text-align: right;
		background-color: #F5745F;
	}
	.progressinner2{
		text-align: right;
		font-size: 22px;
		background-color: rgba(0, 0, 0, 0);
		position: absolute;
	}
	.spaceline{
		font-size: 1px;
	}
	#salonbox{
	}
	#salonbox img{
		height: 100%;
	}
	#useCard{
		width: 100%;
		margin-top: 3%;
		border: 3px solid #AEAEAC;
		border-radius: 5px;
		background-color: #281B15;
		font-family: "Play", "Microsoft YaHei", "Microsoft JhengHei", "fantacy";
	}
	#useCardm{
		width: 100%;
		border: 3px solid #AEAEAC;
		border-radius: 5px;
		background-color: #281B15;
		font-family: "Play", "Microsoft YaHei", "Microsoft JhengHei", "fantacy";
		display: none;
	}
	#useCardTitle{
		width: 100%;
		color: white;
		border-bottom: 2px solid darkgray;
		text-align: center;
		font-size: 20px;
		font-weight: bold;
	}
	.cardType{
		width: 25%;
		color: white;
		text-align: center;
		font-size: 20px;
		border-right: 2px solid darkgray;
		background-color: #424242;
	}
	.continueCard{
		width: 25%;
		color: white;
		text-align: center;
		font-size: 20px;
		background-color: #424242;
	}
	.cardRate{
		width: 100%;
		color: white;
		text-align: center;
		font-size: 75px;
		font-weight: bold;
		margin-top: -20px;
	}
	#img2{
		width: 100%;
		text-align: center;
		position: absolute;
		visibility: hidden;
		opacity: 0;
		cursor: pointer;
	}
	#img2 img{
		height: 80vh;
	}
	#img3{
		width: 100%;
		text-align: center;
		position: absolute;
		visibility: hidden;
		opacity: 0;
		cursor: pointer;
	}
	#img3 img{
		height: 80vh;
	}
	#img4{
		width: 100%;
		text-align: center;
		position: absolute;
		visibility: hidden;
		opacity: 0;
		cursor: pointer;
	}
	#img4 img{
		height: 80vh;
	}
	#backTOall{
		width: 100%;
		text-align: center;
		font-family: "Cute Font", "Microsoft YaHei", "Microsoft JhengHei", "fantacy";
		font-size: 30px;
		font-weight: bold;
		margin-top: -2%;
		visibility: hidden;
	}
	#backTOall span{
		width: 1%;
	}
	#backTOall span:hover{
		color: blue;
		cursor: pointer;
	}
	#musicbox{
		font-size: 30px;
		right: 0px;
		text-align: right;
		position: absolute;
	}
	@keyframes grow {
		0%{
			transform: scale(0.1);
			opacity: 0.5;
		}
		50%{
			transform: scale(0.5);
			opacity: 1;
		}
		100%{
	  		transform: scale(1);
	  		opacity: 0;
		}
	}
	@keyframes turn {
		0%{
			transform: rotate(0deg);
		}
		100%{
	  		transform: rotate(360deg);
		}
	}
	@media screen and (max-width:550px){
		.title{
			margin-left: -10%;
		}
		.title div{
			font-size: 45px;
			padding-top: 0%;
			margin-right: 7%;
		}
		#icon{
			width: 50%;
		}
		#category img{
			margin-left: 25%;
			width: 50%;
		}
		.changepic img:first-child{
			position: absolute;
			width: 90px;
			height: 90px;
		}
		.changepic img:last-child{/*icon*/
			position: absolue;
			height: 90px;
		}
		.loading img{
			width: 20%;
		}
		/*add*/
		#img1{
			flex-wrap: wrap;
		}
		#figurebox{
			width: 100vw;
		}
		#HERONAME{
			font-size: 24px;
		}
		.FIGURE{
			font-size: 18px;
		}
		#salonbox{
			/*width in JS*/
		}
		#salonbox img{
			width: 100%;
		}
		#typeicon{
			width: 11%;
		}
		.progressbar{
			width: 84.5%;
		}
		.progressinner2{
			font-size: 18px;
		}
		#useCard{
			display: none;
		}
		#useCardm{
			display: block;
		}
		#useCardTitle{
			font-size: 17px;
		}
		.cardType{
			font-size: 17px;
		}
		.continueCard{
			font-size: 17px;
		}
		.cardRate{
			font-size: 65px;
		}
		#img2 img{
			width: 100%;
		}
		#img3 img{
			width: 100%;
		}
		#img4 img{
			width: 100%;
		}
		#musicbox{
			font-size: 20px;
		}
	}
	@media screen and (min-width:1400px){
		#roleALL{
			width: 1300px;
		}
	}
</style>
<link rel="icon" href="favicon.ico"/>
<link rel="shortcut icon" href="favicon.ico"/>
</head>
<body>
	<div>
		<nav>
			<div class = "iconbox" style = "display: inline-block;">
				<img id = "icon" src = "compass mark.png" onclick = "icon();" alt="">
				<div id = "iconclick">click</div>
			</div>
			<div class = "title">
				<div id = "home"><span onclick = "changeTo('index');">HOME</span></div>
				<div id = "cards"><span onclick = "changeTo('cards');">CARDS</span></div>
			</div>
			<div id = "musicbox">
				<span id = "pl" style = "cursor: pointer;" onclick = "stopmusic();">&#9835;&ensp;</span>
				<div id = "pau" style = "cursor: pointer; display: inline; right: 0px; position: absolute;" onclick = "playmusic();">&#10006;&ensp;</div>
				<audio id = "music" src="music/COMPASS.mp3" hidden="true" loop="loop"></audio>
			</div>
		</nav>
		<div id = "backTOall">
			<span id = "img1_num" onclick = "slideto(1);" style = "color: blue;">1</span>
			<span id = "img2_num" onclick = "slideto(2);">2</span>
			<span id = "img3_num" onclick = "slideto(3);">3</span>
			<span id = "img4_num" onclick = "slideto(4);">4</span>
			<span onclick = "lastdiv();">back</span>
		</div>
		<div class = "content">
			<div id = "category">
				<div>
					<img id = "picw" onclick = "herotype('w');" src = "picture/character/wicon.png">
					<img id = "picr" onclick = "herotype('r');" src = "picture/character/ricon.png">
					<img id = "picd" onclick = "herotype('d');" src = "picture/character/dicon.png">
					<img id = "pica" onclick = "herotype('a');" src = "picture/character/aicon.png">
					<img id = "picg" onclick = "herotype('g');" src = "picture/character/gicon.png">
				</div>
			</div>
			<div id = "roleALL">
				<div class = "changepic r" id = "changepic1">
					<img onclick = "nextdiv('shiwenzi');" src = "picture/character/shiwenzi/1_shiwenzi.png"/>
					<img src = "picture/character/shiwenzi/1.png"/>
				</div>
				<div class = "changepic d" id = "changepic2">
					<img onclick = "nextdiv('justice');" src = "picture/character/justice/2_justice.png"/>
					<img src = "picture/character/justice/2.png"/>
				</div>
				<div class = "changepic g" id = "changepic3">
					<img onclick = "nextdiv('lilica');" src = "picture/character/lilica/3_lilica.png"/>
					<img src = "picture/character/lilica/3.png"/>
				</div>
				<div class = "changepic a" id = "changepic4">
					<img onclick = "nextdiv('naibao');" src = "picture/character/naibao/4_naibao.png"/>
					<img src = "picture/character/naibao/4.png"/>
				</div>
				<div class = "changepic a" id = "changepic5">
					<img onclick = "nextdiv('green');" src = "picture/character/green/5_green.png"/>
					<img src = "picture/character/green/5.png"/>
				</div>
				<div class = "changepic d" id = "changepic6">
					<img onclick = "nextdiv('zhende');" src = "picture/character/zhende/6_zhende.png"/>
					<img src = "picture/character/zhende/6.png"/>
				</div>
				<div class = "changepic a" id = "changepic7">
					<img onclick = "nextdiv('55');" src = "picture/character/55/7_55.png"/>
					<img src = "picture/character/55/7.png"/>
				</div>
				<div class = "changepic g" id = "changepic8">
					<img onclick = "nextdiv('unclegun');" src = "picture/character/unclegun/8_unclegun.png"/>
					<img src = "picture/character/unclegun/8.png"/>
				</div>
				<div class = "changepic r" id = "changepic9">
					<img onclick = "nextdiv('littlewhite');" src = "picture/character/littlewhite/9_littlewhite.png"/>
					<img src = "picture/character/littlewhite/9.png"/>
				</div>
				<div class = "changepic g" id = "changepic10">
					<img onclick = "nextdiv('paogirl');" src = "picture/character/paogirl/10_paogirl.png"/>
					<img src = "picture/character/paogirl/10.png"/>
				</div>
				<div class = "changepic d" id = "changepic11">
					<img onclick = "nextdiv('poison');" src = "picture/character/poison/11_poison.png"/>
					<img src = "picture/character/poison/11.png"/>
				</div>
				<div class = "changepic r" id = "changepic12">
					<img onclick = "nextdiv('scientist');" src = "picture/character/scientist/12_scientist.png"/>
					<img src = "picture/character/scientist/12.png"/>
				</div>
				<div class = "changepic d" id = "changepic13">
					<img onclick = "nextdiv('musician');" src = "picture/character/musician/13_musician.png"/>
					<img src = "picture/character/musician/13.png"/>
				</div>
				<div class = "changepic r" id = "changepic14">
					<img onclick = "nextdiv('doll');" src = "picture/character/doll/14_doll.png"/>
					<img src = "picture/character/doll/14.png"/>
				</div>
				<div class = "changepic a" id = "changepic15">
					<img onclick = "nextdiv('cc');" src = "picture/character/cc/15_cc.png"/>
					<img src = "picture/character/cc/15.png"/>
				</div>
				<div class = "changepic a" id = "changepic16">
					<img onclick = "nextdiv('ice');" src = "picture/character/ice/16_ice.png"/>
					<img src = "picture/character/ice/16.png"/>
				</div>
				<div class = "changepic g" id = "changepic17">
					<img onclick = "nextdiv('13');" src = "picture/character/13/17_13.png"/>
					<img src = "picture/character/13/17.png"/>
				</div>
				<div class = "changepic r" id = "changepic18">
					<img onclick = "nextdiv('jump');" src = "picture/character/jump/18_jump.png"/>
					<img src = "picture/character/jump/18.png"/>
				</div>
				<div class = "changepic g" id = "changepic19">
					<img onclick = "nextdiv('rabbit');" src = "picture/character/rabbit/19_rabbit.png"/>
					<img src = "picture/character/rabbit/19.png"/>
				</div>
				<div class = "changepic g" id = "changepic20">
					<img onclick = "nextdiv('eagle');" src = "picture/character/eagle/20_eagle.png"/>
					<img src = "picture/character/eagle/20.png"/>
				</div>
				<div class = "changepic r" id = "changepic21">
					<img onclick = "nextdiv('ninja');" src = "picture/character/ninja/21_ninja.png"/>
					<img src = "picture/character/ninja/21.png"/>
				</div>
				<div class = "changepic a" id = "changepic22">
					<img onclick = "nextdiv('tube');" src = "picture/character/tube/22_tube.png"/>
					<img src = "picture/character/tube/22.png"/>
				</div>
				<div class = "changepic g" id = "changepic23">
					<img onclick = "nextdiv('didi');" src = "picture/character/didi/23_didi.png"/>
					<img src = "picture/character/didi/23.png"/>
				</div>
				<div class = "changepic a" id = "changepic24">
					<img onclick = "nextdiv('ghostdragon');" src = "picture/character/ghostdragon/24_ghostdragon.png"/>
					<img src = "picture/character/ghostdragon/24.png"/>
				</div>
				<div class = "changepic d" id = "changepic25">
					<img onclick = "nextdiv('grandpa');" src = "picture/character/grandpa/25_grandpa.png"/>
					<img src = "picture/character/grandpa/25.png"/>
				</div>
				<div class = "changepic r" id = "changepic26">
					<img onclick = "nextdiv('skateboy');" src = "picture/character/skateboy/26_skateboy.png"/>
					<img src = "picture/character/skateboy/26.png"/>
				</div>
				<div class = "changepic a" id = "changepic27">
					<img onclick = "nextdiv('ruruca');" src = "picture/character/ruruca/27_ruruca.png"/>
					<img src = "picture/character/ruruca/27.png"/>
				</div>
			</div>
			<div id = "roleDETAIL">
				<div id = "roleintro">
					<div class = "loading">
						<div style = "width: 100%;"><img class = "spinmark" src = "compass mark.png"></div>
					</div>
					<div onclick = "slide(1);" id = "img1">
						<div id = "figurebox">
							<div id = "HERONAME"><img id = "typeicon"> </div>
							<div style = "width: 100%; display: flex;">
								<div class = "FIGURE">攻擊</div>
								<div class = "progressbar">
									<div class = "progressinner" id = "attack">&emsp;</div>
									<div class = "progressinner2" id = "attack2"></div>
								</div>
							</div>
							<div class = "spaceline">&emsp;</div>
							<div style = "width: 100%; display: flex;">
								<div class = "FIGURE">防禦</div>
								<div class = "progressbar">
									<div class = "progressinner" id = "defence">&emsp;</div>
									<div class = "progressinner2" id = "defence2"></div>
								</div>
							</div>
							<div class = "spaceline">&emsp;</div>
							<div style = "width: 100%; display: flex;">
								<div class = "FIGURE">體力</div>
								<div class = "progressbar">
									<div class = "progressinner" id = "hp">&emsp;</div>
									<div class = "progressinner2" id = "hp2"></div>
								</div>
							</div>
							<div id = "useCard">
								<div id = "useCardTitle">カードスキル発動速度</div>
								<div style = "display: flex;">
									<div class = "cardType">近距離
										<div class = "cardRate nearRate">速</div>
									</div>
									<div class = "cardType">遠距離
										<div class = "cardRate farRate">速</div>
									</div>
									<div class = "cardType">周　圍
										<div class = "cardRate roundRate">速</div>
									</div>
									<div class = "continueCard">連　續
										<div class = "cardRate continueRate">速</div>
									</div>
								</div>
							</div>
						</div>
						<div id = "salonbox"></div>
						<div id = "useCardm">
							<div id = "useCardTitle">カードスキル発動速度</div>
							<div style = "display: flex;">
								<div class = "cardType">近距離
									<div class = "cardRate nearRate">速</div>
								</div>
								<div class = "cardType">遠距離
									<div class = "cardRate farRate">速</div>
								</div>
								<div class = "cardType">周　圍
									<div class = "cardRate roundRate">速</div>
								</div>
								<div class = "continueCard">連　續
									<div class = "cardRate continueRate">速</div>
								</div>
							</div>
						</div>
					</div>
					<div onclick = "slide(2);" id = "img2"><!-- <img> by JS--></div>
					<div onclick = "slide(3);" id = "img3"><!-- <img> by JS--></div>
					<div onclick = "slide(4);" id = "img4"><!-- <img> by JS--></div>
				</div>
			</div>
		</div>
	</div>
</body>
<script type = "text/javascript">
	$("#category").css("width", $("#icon").width());
	$("#roleALL").css("width", document.documentElement.clientWidth-$("#category").width());
	var h = document.documentElement.clientHeight-$("#icon").height();
	if(h < $("#roleALL").height()){
		h = $("#roleALL").height() + 10;
	}
	$("#category").css("height", h-10);
	$(".progressinner2").css("width", $(".progressbar").width());
	
	window.onresize = function(){
		$("#category").css("width", $("#icon").width());
		$("#roleALL").css("width", document.documentElement.clientWidth-$("#category").width());
		if($("#roleDETAIL").css("display") == "none"){//bug of change window size in roleALL
			$("#roleDETAIL").css("opacity", 0);
			$("#roleDETAIL").css("display", "inline");
		}
		if(window.innerWidth > 550){
			$("#salonbox").css("width", $("#salonbox img").width());
		}
		else{
			$("#salonbox").css("width", "100vw");
		}
		if($("#roleDETAIL").css("opacity") == 0){
			$("#roleDETAIL").css("opacity", 1);
			$("#roleDETAIL").css("display", "none");
		}
		
		var h = document.documentElement.clientHeight-$("#icon").height();
		if(h < $("#roleALL").height()){
			h = $("#roleALL").height() + 10;
		}
		$("#category").css("height", h-10);
		$(".progressinner2").css("width", $(".progressbar").width());
		if(document.documentElement.clientHeight < document.documentElement.clientWidth){
			$("#img2 img").css("height", "75vh");
			$("#img2 img").css("width", "initial");
			$("#img3 img").css("height", "75vh");
			$("#img3 img").css("width", "initial");
			$("#img4 img").css("height", "75vh");
			$("#img4 img").css("width", "initial");
		}
		else{
			$("#img2 img").css("height", "initial");
			$("#img2 img").css("width", "100vw");
			$("#img3 img").css("height", "initial");
			$("#img3 img").css("width", "100vw");
			$("#img4 img").css("height", "initial");
			$("#img4 img").css("width", "100vw");
		}
	}
	
	const hero_num = 27;
	var herodetail = new Array(10);
	var getHero = new XMLHttpRequest();
	var clickcount = 0;
	var title = $(".title");
	var side = $("#category");
	var pauseClick = 0;
	var nowWho;
	var t;
	var n;
	var a;
	var d;
	var h;
	var near;
	var far;
	var round;
	var conti;
	var per;
	function nextdiv(who){
		nowWho = who;
		getHero.open("get", "picture/character/" + nowWho + "/figure.txt");
		getHero.onload = function(){
			var data = this.responseText;
			herodetail = data.split(",");
		
			t = herodetail[1];
			n = herodetail[2];
			a = herodetail[3];
			d = herodetail[4];
			h = herodetail[5];
			near = herodetail[6];
			far = herodetail[7];
			round = herodetail[8];
			conti = herodetail[9];
		};
		getHero.send();
		music.src = "music/compass_" + nowWho + ".mp3";
		music.volume = 0.2;
		if(pauseClick == 0)
			playmusic();
		preload();
		toolBack();
		var all = document.getElementById("roleALL");
		var detail = document.getElementById("roleDETAIL");
		$("html,body").animate({scrollTop:0}, 333);

		all.style.opacity = 0;
		all.style.transition = "opacity 0.5s ease-in";
		side.css("opacity", 0);
		side.css("transition", "opacity 0.5s ease-in");
		detail.style.display = "inline";
	}
	
	var nowpicNum;
	var c = 0;
	function preload(){
		//add
		var salonbox_img = new Image();
		salonbox_img.src = "picture/character/" + nowWho + "/s.png";//(0,147)1068*1475
		var detail_img = new Image();
		detail_img.src = "picture/character/" + nowWho + "/d.png";
		var salon_img = new Image();
		salon_img.src = "picture/character/" + nowWho + "/s.png";//(0,147)1068*1475
		var model_img = new Image();
		model_img.src = "picture/character/" + nowWho + "/s2.png";//(20,84)1041*1592
		salonbox.innerHTML = "";
		img2.innerHTML = "";
		img3.innerHTML = "";
		img4.innerHTML = "";
		salonbox.append(salonbox_img);
		img2.append(detail_img);
		img3.append(salon_img);
		img4.append(model_img);
		if(document.documentElement.clientHeight < document.documentElement.clientWidth){
			$("#img2 img").css("height", "75vh");
			$("#img2 img").css("width", "initial");
			$("#img3 img").css("height", "75vh");
			$("#img3 img").css("width", "initial");
			$("#img4 img").css("height", "75vh");
			$("#img4 img").css("width", "initial");
		}
		else{
			$("#img2 img").css("height", "initial");
			$("#img2 img").css("width", "100vw");
			$("#img3 img").css("height", "initial");
			$("#img3 img").css("width", "100vw");
			$("#img4 img").css("height", "initial");
			$("#img4 img").css("width", "100vw");
		}
		model_img.onload = function(){
			if(c != 1){
				if($("#salonbox").width() > 1000){
					c = 1;
					if(window.innerWidth > 550){
						$("#salonbox").css("width", $("#salonbox img").width());
					}
					else{
						$("#salonbox").css("width", "100vw");
					}
				}
			}
			if(nowpicNum == null)
				nowpicNum = 1;
			$(".loading").css("display", "none");
			var s = "#img" + nowpicNum;
			$("#backTOall").css("visibility", "visible");
			$(s).css("visibility", "visible");
			runHerodata();
		}
	}
	
	function lastdiv(){
		toolBack();
		slideto(1);
		var all = document.getElementById("roleALL");
		var detail = document.getElementById("roleDETAIL");
		var back = document.getElementById("backTOall");
		all.style.removeProperty("opacity");
		all.style.removeProperty("transition");
		side.css("opacity", "");
		side.css("transition", "");
		
		back.style.visibility = "hidden";
		all.style.opacity = 1;
		all.style.transition = "opacity 0.5s ease-in";
		side.css("opacity", 1);
		side.css("transition", "opacity 0.5s ease-in");
		detail.style.display = "none";
		$("#attack").css("width", "");
		$("#defence").css("width", "");
		$("#hp").css("width", "");
		attack2.innerHTML = "";
		defence2.innerHTML = "";
		hp2.innerHTML = "";
		HERONAME.innerHTML = "<img id = 'typeicon'> ";
		//add
		img2.src = "";
		img3.src = "";
		img4.src = "";

		if(nowpicNum == null)
			nowpicNum = 1;
		var s = "#img" + nowpicNum;
		$(".loading").css("display", "block");
		$(s).css("visibility", "hidden");
	}
	
	function icon(){
		clickcount++;
		title.css("visibility", "visible");
		if(clickcount % 2 != 0){
			$("#icon").css("animation", "initial");
			title.css("margin-top", "0%");
			title.css("transition", "margin-top 0.8s ease");
			/*side.css("margin-left", "0%");
			side.css("transition", "margin-left 0.8s ease");*/
		}
		else{
			//$("#icon").css("animation", "grow 0.65s linear infinite");
			title.css("margin-top", "-20%");
			title.css("transition", "margin-top 1s ease");
			/*side.css("margin-left", "-20%");
			side.css("transition", "margin-left 1s ease");*/
		}
	}
	
	function herotype(type){
		toolBack();
		if($("#backTOall").css("visibility") == "visible")
			lastdiv();
		var hero;
		for(var i = 1; i <= hero_num; i++){
			hero = $("#changepic" + i);
			hero.css("display", "inline");
		}
		if(type != "w"){
			for(var i = 1; i <= hero_num; i++){
				hero = $("#changepic" + i);
				if(hero.attr("class") != "changepic " + type){
					hero.css("display", "none");
				}
			}
		}
	}
	
	function changeTo(page){
		if(page == "role"){
			window.location.reload();
		}
		else{
			//document.location = "http://127.0.0.1/" + page + ".html";
			//document.location = "http://localhost:8080/CompassInfo/" + page + ".html";
			//window.open("https://shishanx.github.io/compassx/" + page + ".html");
			document.location = "https://shishanx.github.io/compassx/" + page + ".html";
		}
	}
	
	const numOFpic = 4;//add
	function slide(picNum){
		if(picNum == 1)
			$("html,body").animate({scrollTop:0}, 333);
		nowpicNum = picNum + 1;
		if(nowpicNum == numOFpic+1)
			nowpicNum = 1;
		changeColor(nowpicNum);
		toolBack();
		$(".progressinner2").css("width", $(".progressbar").width());
		var before = document.getElementById("img"+Number(picNum-1))
		var now = document.getElementById("img"+picNum);
		var next = document.getElementById("img"+Number(picNum+1));
		var wind = document.getElementById("roleDETAIL")
		var w = window.screen.width;
		//-----Clear last change---from
		now.style.removeProperty("visibility");
		now.style.removeProperty("padding-right");
		now.style.removeProperty("opacity");
		now.style.removeProperty("transition-property");
		now.style.removeProperty("transition-duration");
		now.style.removeProperty("transition-timing-function");
		//---------------------------end
		
		now.style.paddingRight = w/4 + "px";
		now.style.opacity = 0;
		now.style.transitionProperty = "opacity padding-right";
		now.style.transitionDuration = "0.5s";
		now.style.transitionTimingFunction = "ease-in";
		now.style.visibility = "hidden";
		if(next != null){
			next.style.visibility = "visible";
			next.style.opacity = 1;
			next.style.transitionProperty = "opacity";
			next.style.transitionDuration = "0.5s";
			next.style.transitionTimingFunction = "ease-in";
		}
		else{
			img1.style.visibility = "visible";
			img1.style.opacity = 1;
			img1.style.transitionProperty = "opacity";
			img1.style.transitionDuration = "0.5s";
			img1.style.transitionTimingFunction = "ease-in";
			runHerodata();
		}
		
		if(before != null){
			before.style.paddingRight = "0px";
		}
		else{
			before = document.getElementById("img"+numOFpic);
			before.style.paddingRight = "0px";
		}
	}
	function slideto(num){
		while(num != nowpicNum){
			slide(nowpicNum);
		}
		changeColor(num);
	}
	
	function changeColor(num){
		for(var i = 1; i <= numOFpic; i++){
			if(i != num)
				$("#img" + i + "_num").css("color", "");
			else{
				$("#img" + i + "_num").css("color", "blue");
			}
		}
	}
	
	function toolBack(){
		clickcount = 0;
		//$("#icon").css("animation", "grow 0.65s linear infinite");
		title.css("margin-top", "-20%");
		title.css("transition", "margin-top 1s ease");
		/*side.css("margin-left", "-20%");
		side.css("transition", "margin-left 1s ease");*/
	}
	
	function runHerodata(){
		$("#attack").css("width", "");
		$("#defence").css("width", "");
		$("#hp").css("width", "");
		$("#attack").css("transition", "");
		$("#defence").css("transition", "");
		$("#hp").css("transition", "");
		HERONAME.innerHTML = "<img id = 'typeicon'> ";
		
		typeicon.src = "picture/character/" + t + "icon.png";
		HERONAME.innerHTML = HERONAME.innerHTML + n;
		per = a*100/1.5;
		$("#attack").css("width", per+"%");
		$("#attack").css("transition", "width 2s ease");
		$("#attack2").css("width", $(".progressbar").width());
		attack2.innerHTML = "&times;" + a;
		per = d*100/1.5;
		$("#defence").css("width", per+"%");
		$("#defence").css("transition", "width 2s ease");
		$("#defence2").css("width", $(".progressbar").width());
		defence2.innerHTML = "&times;" + d;
		per = h*100/1.5;
		$("#hp").css("width", per+"%");
		$("#hp").css("transition", "width 2s ease");
		$("#hp2").css("width", $(".progressbar").width());
		hp2.innerHTML = "&times;" + h;

		$(".nearRate").html(near);
		$(".farRate").html(far);
		$(".roundRate").html(round);
		$(".continueRate").html(conti);
	}
	
	function playmusic(){
		pauseClick = 0;
		$("#pau").css("display", "none");
		music.play();
	}
	
	function stopmusic(){
		pauseClick = 1;
		$("#pau").css("display", "inline");
		music.pause();
	}
</script>
</html>